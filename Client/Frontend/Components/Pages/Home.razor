@page "/"
@using Microsoft.AspNetCore.Components.Authorization
@inject NavigationManager Navigation
@inject AuthenticationStateProvider authStateProvider

@code {
  protected override async Task OnInitializedAsync()
  {
    var authState = await authStateProvider.GetAuthenticationStateAsync();
    var user = authState.User;

    if (user.Identity != null && user.Identity.IsAuthenticated)
    {
      Navigation.NavigateTo("/checkin");
    }
    else
    {
      Navigation.NavigateTo("/login");
    }
  }
}